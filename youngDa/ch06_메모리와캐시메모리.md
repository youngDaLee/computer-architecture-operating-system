# ch06. 메모리와 캐시메모리
## 6-1. RAM의 트징과 종류
### RAM의 특징
- 휘발성 저장장치(Volatile memory) : 실행할 프로그램의 명령어와 데이터가 저장됨
    - 실행할 대상 저장
    - CPU가 실행하고 싶은 프로그램을 보조저장장치에서 RAM으로 복사하여 저장한뒤 실행함
- 비휘발성 저장장치(non-volatile memory) : 전원이 거져도 내용이 유지되는 저장장치
    - HDD, SSD, CD-ROM, USB, ...
    - CPU가 직접 접근하지 못함
    - 보관할 대상 저장

### RAM의 용량과 성능
- RAM 용량이 적으면 디스크에서 가져오는 일이 잦아 실행시간 길어짐
- RAM이 어느 정도 이상으로 커지면, 실행 속도가 증가하지 않음(선형증가 X)

### RAM의 종류
DRAM(Dynamic RAM)
- 데이터가 동적으로 변하는 RAM
- 시간이 지나면 저장된 데이터가 점점 사라지는 RAM
- 데이터 소멸을 막기 위해 일정 주기로 데이터 재활성화(다시저장)
- 소비 전력이 낮고, 저렴하고, 집접도가 높아 대용량 설계에 용이하여 많이 쓰임


SRAM(Static RAM)
- 저장된 데이터가 변하지 않는 RAM
- DRAM보다 속도도 더 빠름
- 집적도가 낮고, 소비전력도 크고, 가격도 비쌈. 대용량은 필요 없지만 속도가 빨라야 하는 저장장치(캐시메모리)에 사용됨


SDRAM
- 클럭신호와 동기화된 발전된 형태의 DRAM
    - 클럭신호와 동기화 되었다 : 클럭 타이밍에 맞춰 CPU와 정보를 주고받을 수 있다.


DDR SDRAM
- 가장 흔히 사용되는 RAM
- 대역폭(data rate) 넓혀 속도를 빠르게 만든 SDRAM
    - 대역폭 : 데이터를 주고받는 길의 너비
- SDRAM은 한 클럭 당 한번씩 데이터를 주고받는 반면, DDR SDRAM은 두번씩 데이터를 주고받음 -> 두배가량 빠름



## 6-2. 메모리의 주소 공간
### 물리주소와 논리주소
- 물리주소 : 정보가 실제로 저장된 하드웨어상 주소
    - 메모리가 사용하는 주소
- 논리주소 : 실행중인 프로그램 각각에게 부여된 0번부터 시작도니는 주소
    - CPU와 실행중인 프로그램이 사용하는 주소

CPU와 메모리간 상호작용을 위해서는 물리주소와 논리주소간 변환이 이루어져야 함
- MMU(메모리 관리 장치) : CPU가 발생시킨 논리주소에 베이스 레지스터값을 더해 논리주소를 물리주소로 변환함

베이스 레지스터 : 프로그램의 가장 작은 물리주소. 프로그램의 첫 물리주소.

### 메모리 보호 기법
- 다른 프로그램 영역을 침범할 수 있는 명령어는 위험하기 때문에 논리주소 범위를벗어나는 명령어 실행을 방지하고, 실행중인 프로그램이 다른 프로그램 영향을 받지 않도록 보호해야 함
    - 한계 레지스터(limit register)가 이를 담당함


## 6-3. 캐시메모리
### 저장장치 계층구조
빠르고 용량이 큰 저장장치면 좋게씨만.. 둘이 양립하기 어려움
- CPU와 가까운 저장장치는 빠르고, 멀리있는 저장장치는 느림
- 속도가 빠른 저장장치는 용량이 작고 가격이 비쌈

속도(빠름)
- 레지스터 > RAM > Disk
용량(큼), 가격(저렴)
- Disk > RAM > 레지스터


### 캐시메모리
- CPU가 메모리에 접근하는 속도는 레지스터 접근 속도보다 느림.
- 그럼에도 프로그램 실행 과정에서 빈번하게 접근해야 함... -> CPU가 아무리 발전해도 메모리 접근 속도가 느리면 무용지물

캐시메모리
- CPU와 메모리 사이에 위치
- 레지스터보다 용량이 크고 메모리보다 빠른 SRAM 기반 저장장치
- L1캐시 : 코어와 가장 가까운 캐시메모리
- L2캐시 : 그 다음 가까운 캐시메모리
- L3캐시 : 그 다음 가까운 캐시메모리
    - 일반적으로 L1, L2는 CPU 코어 내부에, L3는 외부에 위치함

### 참조지역성 원리
- 캐시메모리는 CPU가 사용할법한 대상을 예측해서 저장함
    - 캐시히트 : 캐시메모리 내 데이터가 CPU에 활용될 경우
    - 캐시미스 : 예측이 틀려 메모리에서 필요한 데이터를 직접 가져오는 경우

캐시적중률
- 캐시히트횟수/(캐시히트횟수+캐시미스횟수)
- 대략적으로 85%~95%

참조지역성 원리
- CPU가 메모리에 접근할 때 주된 경험을 바탕으로 만들어진 원리
1. CPU는 최근에 접근했던 메모리 공간에 다시 접근하려는 경향이 있다.(시간지역성)
2. CPU는 접근한 메모리공간 근처를 접근하려는 경향이 있다.(공간지역성)

# 내 생각
메모리 종류와 성능에 대해 다시 정리할 수 있는 시간이었습니다.

# 논의할 주제
개발적인 측면에서 캐시히트를 높힐 수 있는 방법이 있을까요?
